<!DOCTYPE html>
<html lang="en">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&display=swap" rel="stylesheet">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Помощник по ПГАС</title>
<link rel="stylesheet" href="style.css">
<script src="const.js"></script>
</head>
<body>
    <h1><a href=index.html>Помощник по ПГАС</a></h1>
    <h2>Конференции</h2>
    <div>
        <select id="sel1">
            <option selected="">Университетская</option>
            <option>Всероссийская</option>
            <option>Международная (с проведением в России)</option>
            <option>Международная (с проведением за рубежом)</option>
        </select>
        <label for="c1"><input type="checkbox" id="c1">Студенческая / молодёжная</label>
        <label for="c2"><input type="checkbox" id="c2">В соавторстве</label>
        <label for="c3"><input type="checkbox" id="c3">С платой за участие (не считая оргвзнос)</label>
    </div>
    <div>
        <table class="center">
            <tr>
                <th>Тезисы</th>
                <th>Доклад</th>
                <th>Грамота</th>
            </tr>
            <tr>
                <th id="v1"></th>
                <th id="v2"></th>
                <th id="v3"></th>
            </tr>
        </table>
    </div>

    <h3>Список конференций</h3>
    <h4 style="color: lightgray">Каждое название кликабельно. Не забывайте включать нажимать соответствующую галочку, когда работа выполнена в соавторстве в соавторстве.</h4>

    <table>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=int&student">«Ломоносов»</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus">«Малые языки в большой лингвистике»</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus">«Типология морфосинтаксических параметров»</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus&student">Конференция по типологии и грамматике для молодых исследователей</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus&student">Студенческая конференция Института лингвистики РГГУ (СКИЛ РГГУ)</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=for">Workshop on Modality in undescribed languages</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=for&student">Workshop on Syntax, Semantics and Phonology, WoSSP</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=for">European Conference on Formal Description of Slavic Languages, FDSL </a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus&student">Экспериментальные исследования языка</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=for">Reported Discourse within Grammar: Cross-Linguistic Insights</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus">Современная православная гимнография</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus&student">Древняя русь глазами молодых исследователей</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus&student">Конференция молодых исследователей «Текст – комментарий – интерпретация»</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=uni">Елка у Иванова</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus&student">«В поисках смыслов...»</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus">Русская литература ХХ-ХХI веков как единый процесс</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus">Поэтика текста</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus&student">Текстология и историко-литературный процесс</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus&student">Актуальные проблемы филологии</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus">Современные проблемы филологии и методики преподавания языков: вопросы теории и практики</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus">Национальные коды в языке и литературе</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus&student">Молодежь XXI века: образование, наука, инновации</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus&student">Пространство и время в русской литературе и философии</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus">Русская классическая и неклассическая литература: текст, контекст, рецепция</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=rus&student">Язык. Культура. Личность</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=rus">Наследие К.Д. Ушинского и современное образование</a></th></tr>
        <tr><th style="display: inline-block; background-color: lightcyan"><a href="calculator.html?level=uni&student">Звегинцевские чтения</a></th></tr>
        <tr><th style="display: inline-block; background-color: white"><a href="calculator.html?level=uni&student">Конференция, посвящённая юбилею Л. Тика</a></th></tr>
    </table>

    <script>

        function loadParams() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);

            const levelOptions = {
                "uni": 0,
                "rus": 1,
                "int": 2,
                "for": 3,
            };

            if (urlParams.has('level')){
                let index = levelOptions[urlParams.get('level')];
                let value = document.getElementById('sel1').children[index].text;
                document.getElementById('sel1').value = value;
            }

            if (urlParams.has('student')){
                document.getElementById('c1').checked = true;
            }
            if (urlParams.has('coauthored')){
                document.getElementById('c2').checked = true;
            }
            if (urlParams.has('paid')){
                document.getElementById('c3').checked = true;
            }
        }

        function calculatePoints() {
            var level = document.getElementById('sel1').value;
            var points = basePoints[level].slice();
            if (document.getElementById('c1').checked) {
                for (var i = 0; i < points.length; i++) {
                    points[i] *= 0.8;
                }
            }
            if (document.getElementById('c2').checked) {
                for (var i = 0; i < points.length; i++) {
                    points[i] *= 0.8;
                }
            }
            if (document.getElementById('c3').checked) {
                for (var i = 0; i < points.length; i++) {
                    points[i] *= 0.4;
                }
            }
            for (var i = 1; i <= 3; i++) {
                document.getElementById(`v${i}`).innerText = parseFloat(points[i-1]).toPrecision(3);
            }
        }
        
        var idsToListen = ["sel1", "c1", "c2", "c3"];
        for (var i = 0; i < idsToListen.length; i++) {
            let element = document.getElementById(idsToListen[i]);
            element.addEventListener("change", function() {
                calculatePoints();
            });
        };

        loadParams();
        calculatePoints();
    </script>
</body>
</html>